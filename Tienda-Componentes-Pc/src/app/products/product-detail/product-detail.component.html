<div class="product-detail" *ngIf="producto$ | async as producto; else loading">
  <div class="product-card" *ngIf="producto; else notFound">

    <div class="image-container">
      <img [src]="producto.imagenDataUrl" [alt]="producto.nombre" class="product-image" *ngIf="producto.imagenDataUrl && producto.nombre">
    </div>

    <div class="product-info">
      <h1 class="product-title" *ngIf="producto.nombre">{{ producto.nombre }}</h1>
      <p class="product-description" *ngIf="producto.descripcion">{{ producto.descripcion }}</p>
      <p class="product-price" *ngIf="producto.precio">ğŸ’° Precio: <strong>${{ producto.precio }}</strong></p>

      <div class="actions">
        <button (click)="volverATienda()" class="btn btn-primary">ğŸ  Volver a la tienda</button>
        <button (click)="agregarAlCarrito(producto)" class="btn btn-secondary" *ngIf="producto">ğŸ›’ Agregar al carrito</button>
      </div>
    </div>
  </div>

  <ng-template #notFound>
    <div class="not-found-container">
      <p>Producto no encontrado.</p>
    </div>
  </ng-template>
</div>

<ng-template #loading>
  <div class="loading-container">
    <p>â³ Cargando detalles del producto...</p>
  </div>
</ng-template>
